<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Market Pulse - Academy</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            max-width: 428px;
            margin: 0 auto;
            overflow-x: hidden;
        }

        .status-bar {
            background: #ffffff;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #333;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            max-width: 428px;
            margin: 0 auto;
            z-index: 101;
        }

        .header {
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: white;
            position: fixed;
            top: 44px;
            left: 0;
            right: 0;
            max-width: 428px;
            margin: 0 auto;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .hamburger {
            display: flex;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 8px;
        }

        .hamburger span {
            width: 24px;
            height: 3px;
            background: white;
            border-radius: 2px;
        }

        .header-title {
            font-size: 18px;
            font-weight: bold;
        }

        .profile-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #3498db;
            border: 2px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding-bottom: 90px;
            margin-top: 100px;
        }

        .welcome-section {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .welcome-text {
            font-size: 14px;
            color: #666;
            margin-bottom: 6px;
        }

        .welcome-name {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .user-badge {
            display: inline-block;
            padding: 6px 14px;
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            border-radius: 20px;
            font-size: 12px;
            color: white;
            font-weight: 600;
        }

        .tab-bar {
            display: flex;
            justify-content: space-around;
            background-color: #ffffff;
            border-radius: 12px;
            margin-bottom: 24px;
            padding: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }

        .tab-item {
            padding: 12px 20px;
            text-align: center;
            flex: 1;
            font-weight: 600;
            font-size: 14px;
            color: #9ca3af;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .tab-item.active {
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            color: white;
            box-shadow: 0 2px 8px rgba(139,92,246,0.3);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* GLOSS√ÅRIO */
        .accordion-item {
            margin-bottom: 12px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            background-color: white;
        }

        .accordion-header {
            padding: 18px 20px;
            background-color: #ffffff;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #2d3748;
            font-size: 15px;
        }

        .accordion-header:hover {
            background-color: #f8f9fa;
        }

        .accordion-icon {
            font-size: 20px;
            color: #8B5CF6;
            margin-right: 12px;
        }

        .accordion-arrow {
            font-size: 18px;
            color: #9ca3af;
            transition: transform 0.3s ease;
        }

        .accordion-arrow.rotate {
            transform: rotate(180deg);
        }

        .accordion-content {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease, padding 0.3s ease;
            background-color: #f7f9fb;
        }

        .accordion-content.open {
            max-height: 500px;
            padding: 16px 20px 20px;
        }

        .accordion-content p {
            color: #666;
            line-height: 1.6;
            font-size: 14px;
        }

        /* DICAS */
        .tips-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
        }

        .tip-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            cursor: pointer;
            border-left: 4px solid #8B5CF6;
            transition: all 0.3s ease;
        }

        .tip-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139,92,246,0.2);
        }

        .tip-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .tip-title {
            font-size: 16px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 6px;
        }

        .tip-subtitle {
            font-size: 13px;
            color: #8B5CF6;
            font-weight: 500;
        }

        /* QUIZ */
        .quiz-container {
            background: white;
            padding: 24px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }

        .quiz-status {
            font-size: 13px;
            font-weight: 600;
            color: #8B5CF6;
            margin-bottom: 20px;
            text-align: center;
            background: #f3f0ff;
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            width: 100%;
        }

        .quiz-question {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 24px;
            line-height: 1.6;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 14px;
            margin-bottom: 24px;
        }

        .quiz-option {
            padding: 18px 20px;
            border-radius: 12px;
            border: 2px solid #e5e7eb;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 14px;
            font-size: 15px;
            color: #2c3e50;
        }

        .quiz-option:hover {
            border-color: #8B5CF6;
            background: #f9f7ff;
            transform: translateX(4px);
        }

        .option-letter {
            font-weight: 700;
            font-size: 16px;
            color: #8B5CF6;
            min-width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f3f0ff;
            border-radius: 50%;
        }

        .quiz-option.selected {
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            border-color: transparent;
            color: white;
            transform: translateX(4px);
            box-shadow: 0 4px 16px rgba(139,92,246,0.4);
        }

        .quiz-option.selected .option-letter {
            background: rgba(255,255,255,0.2);
            color: white;
        }

        .quiz-button {
            width: 100%;
            padding: 16px 24px;
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(139,92,246,0.3);
        }

        .quiz-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139,92,246,0.4);
        }

        .quiz-button:active:not(:disabled) {
            transform: translateY(0);
        }

        .quiz-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* BOTTOM NAV */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-around;
            padding: 8px 0;
            max-width: 428px;
            margin: 0 auto;
            z-index: 100;
        }

        .nav-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            padding: 8px;
            border-radius: 8px;
            transition: background 0.2s;
        }

        .nav-item.active {
            background: #f3f0ff;
        }

        .nav-icon {
            font-size: 20px;
            color: #999;
        }

        .nav-item.active .nav-icon {
            color: #8B5CF6;
        }

        .nav-label {
            font-size: 10px;
            color: #999;
            font-weight: 500;
        }

        .nav-item.active .nav-label {
            color: #8B5CF6;
            font-weight: 600;
        }

        /* SIDE MENU */
        .side-menu {
            position: fixed;
            top: 0;
            left: -280px;
            width: 280px;
            height: 100%;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
        }

        .side-menu.open {
            left: 0;
        }

        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.4);
            z-index: 999;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .menu-overlay.show {
            opacity: 1;
            pointer-events: all;
        }

        .menu-header {
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            padding: 40px 20px 20px;
            color: white;
        }

        .menu-profile {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .menu-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .menu-info h3 {
            font-size: 16px;
            margin-bottom: 3px;
        }

        .menu-info p {
            font-size: 12px;
            opacity: 0.8;
        }

        .menu-items {
            padding: 10px 0;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }

        .menu-item:hover {
            background: #f8f9fa;
        }

        .menu-item.active {
            background: #f3f0ff;
            border-left-color: #8B5CF6;
        }

        .menu-icon {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .menu-text {
            font-size: 14px;
            color: #333;
            font-weight: 500;
        }

        /* MODAL */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            padding: 28px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .modal.show .modal-content {
            transform: scale(1);
            opacity: 1;
        }

        .modal-title {
            font-size: 22px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 2px solid #f0f0f0;
        }

        .modal-body {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .modal-button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #8B5CF6 0%, #EF4444 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139,92,246,0.4);
        }

        @supports (padding-top: env(safe-area-inset-top)) {
            .status-bar {
                padding-top: calc(8px + env(safe-area-inset-top));
            }
            
            .header {
                top: calc(44px + env(safe-area-inset-top));
            }
            
            .main-content {
                margin-top: calc(100px + env(safe-area-inset-top));
            }
        }
    </style>
</head>
<body>
    <div class="status-bar">
        <span id="currentTime">9:41</span>
        <span>üì∂ üîã</span>
    </div>

    <div class="header">
        <div class="hamburger" onclick="toggleMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <div class="header-title">Market Pulse - Academy</div>
        <div class="profile-icon" onclick="goToProfile()" id="profileAvatar">üë§</div>
    </div>

    <div class="main-content">
        <div class="welcome-section">
            <div class="welcome-text">Bem-vindo √† Academy,</div>
            <div class="welcome-name" id="userName">...</div>
            <span class="user-badge" id="userBadge">üéì Aprenda Mais</span>
        </div>

        <div class="tab-bar">
            <div class="tab-item active" data-tab="glossary" onclick="switchTab('glossary')">Gloss√°rio</div>
            <div class="tab-item" data-tab="tips" onclick="switchTab('tips')">Dicas</div>
            <div class="tab-item" data-tab="quiz" onclick="switchTab('quiz')">Quiz</div>
        </div>

        <div id="glossary" class="tab-content active">
            <div id="glossary-list"></div>
        </div>

        <div id="tips" class="tab-content">
            <div class="tips-grid" id="tips-list"></div>
        </div>

        <div id="quiz" class="tab-content">
            <div class="quiz-container">
                <div class="quiz-status" id="quiz-status"></div>
                <h3 class="quiz-question" id="question-text"></h3>
                <div class="quiz-options" id="answer-options"></div>
                <button class="quiz-button" id="next-button" onclick="nextQuestion()">
                    Pr√≥xima Pergunta
                </button>
            </div>
        </div>
    </div>

    <div id="reusableModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <h3 class="modal-title" id="modal-title"></h3>
            <div class="modal-body" id="modal-body"></div>
            <button class="modal-button" onclick="closeModal()">FECHAR</button>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item" onclick="goToHome()">
            <div class="nav-icon">üè†</div>
            <div class="nav-label">Home</div>
        </div>
        <div class="nav-item" onclick="goToAlerts()">
            <div class="nav-icon">üîî</div>
            <div class="nav-label">Alertas</div>
        </div>
        <div class="nav-item" onclick="goToNews()">
            <div class="nav-icon">üì∞</div>
            <div class="nav-label">Not√≠cias</div>
        </div>
        <div class="nav-item" onclick="goToReport()">
            <div class="nav-icon">üìä</div>
            <div class="nav-label">Relat√≥rios</div>
        </div>
        <div class="nav-item active" onclick="goToAcademy()">
            <div class="nav-icon">üéì</div>
            <div class="nav-label">Academy</div>
        </div>
        <div class="nav-item" onclick="goToProfile()">
            <div class="nav-icon">üë§</div>
            <div class="nav-label">Perfil</div>
        </div>
    </div>

    <div class="menu-overlay" id="menuOverlay" onclick="toggleMenu()"></div>
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <div class="menu-profile">
                <div class="menu-avatar" id="menuAvatar">üë§</div>
                <div class="menu-info">
                    <h3 id="menuName">Usu√°rio</h3>
                    <p id="menuEmail">email@exemplo.com</p>
                </div>
            </div>
        </div>
        <div class="menu-items">
            <div class="menu-item" onclick="goToHome()">
                <div class="menu-icon">üè†</div>
                <div class="menu-text">Dashboard</div>
            </div>
            <div class="menu-item" onclick="goToAlerts()">
                <div class="menu-icon">üîî</div>
                <div class="menu-text">Meus Alertas</div>
            </div>
            <div class="menu-item" onclick="goToNews()">
                <div class="menu-icon">üì∞</div>
                <div class="menu-text">Not√≠cias</div>
            </div>
            <div class="menu-item" onclick="goToReport()">
                <div class="menu-icon">üìä</div>
                <div class="menu-text">Relat√≥rios</div>
            </div>
            <div class="menu-item active" onclick="goToAcademy()">
                <div class="menu-icon">üéì</div>
                <div class="menu-text">Academy</div>
            </div>
            <div class="menu-item" onclick="goToProfile()">
                <div class="menu-icon">üë§</div>
                <div class="menu-text">Perfil</div>
            </div>
            <div class="menu-item" onclick="logout()">
                <div class="menu-icon">üö™</div>
                <div class="menu-text">Sair</div>
            </div>
        </div>
    </div>

    <script>
        const glossaryData = [
            { term: "Ativo", definition: "Qualquer bem ou direito que uma empresa ou pessoa possui e que pode ser convertido em dinheiro. Exemplos: a√ß√µes, im√≥veis, t√≠tulos de d√≠vida.", icon: "üíº" },
            { term: "Volatilidade", definition: "Medida da frequ√™ncia e intensidade das varia√ß√µes de pre√ßo de um ativo. Alta volatilidade significa que o pre√ßo pode subir ou cair drasticamente em um curto per√≠odo.", icon: "üìà" },
            { term: "Liquidez", definition: "A facilidade com que um ativo pode ser comprado ou vendido no mercado sem afetar significativamente seu pre√ßo. Quanto maior a liquidez, mais f√°cil √© se desfazer do ativo.", icon: "üíß" },
            { term: "Renda Vari√°vel", definition: "Investimentos cuja remunera√ß√£o ou retorno n√£o √© previs√≠vel no momento da aplica√ß√£o, pois depende das condi√ß√µes de mercado (ex: A√ß√µes, Fundos Imobili√°rios).", icon: "üìä" },
            { term: "Renda Fixa", definition: "Investimentos que possuem regras de remunera√ß√£o definidas no momento da aplica√ß√£o (ex: Tesouro Direto, CDBs, LCIs).", icon: "ü™ô" },
            { term: "Diversifica√ß√£o", definition: "Estrat√©gia de investir em diferentes ativos para reduzir riscos. Evita que uma perda em um investimento afete toda a carteira.", icon: "üéØ" },
            { term: "Alavancagem", definition: "Uso de d√≠vida para ampliar o potencial de retorno de um investimento. Pode aumentar ganhos, mas tamb√©m perdas.", icon: "‚öôÔ∏è" },
            { term: "Infla√ß√£o", definition: "Aumento geral e cont√≠nuo dos pre√ßos de bens e servi√ßos em uma economia, reduzindo o poder de compra da moeda.", icon: "üìâ" },
            { term: "Juros Compostos", definition: "C√°lculo de juros sobre o principal e sobre os juros acumulados de per√≠odos anteriores, acelerando o crescimento do investimento.", icon: "üíπ" },
            { term: "Bolsa de Valores", definition: "Mercado organizado onde se negociam t√≠tulos e valores mobili√°rios, como a√ß√µes de empresas.", icon: "üè¢" },
            { term: "Dividendos", definition: "Parte do lucro de uma empresa distribu√≠da aos acionistas, geralmente em dinheiro ou a√ß√µes adicionais.", icon: "üí∞" },
            { term: "√çndice de Mercado", definition: "Indicador que representa o desempenho de um grupo de a√ß√µes, como o Ibovespa no Brasil.", icon: "üìä" },
            { term: "Fundo de Investimento", definition: "Ve√≠culo coletivo onde investidores aplicam recursos em uma carteira gerenciada por profissionais.", icon: "üê∑" },
            { term: "C√¢mbio", definition: "Taxa de convers√£o entre moedas de diferentes pa√≠ses, influenciada por fatores econ√¥micos globais.", icon: "üí±" },
            { term: "Derivativos", definition: "Contratos financeiros cujo valor deriva de um ativo subjacente, como op√ß√µes e futuros.", icon: "üîÄ" },
            { term: "IPO", definition: "Initial Public Offering: Abertura de capital de uma empresa na bolsa pela primeira vez.", icon: "‚ú®" },
            { term: "Bear Market", definition: "Mercado em queda prolongada, com pessimismo e vendas generalizadas.", icon: "üêª" },
            { term: "Bull Market", definition: "Mercado em alta prolongada, com otimismo e compras generalizadas.", icon: "üêÇ" },
            { term: "An√°lise Fundamentalista", definition: "Avalia√ß√£o de empresas baseada em balan√ßos, receitas e perspectivas econ√¥micas.", icon: "üîç" },
            { term: "An√°lise T√©cnica", definition: "Estudo de padr√µes gr√°ficos e indicadores para prever movimentos de pre√ßos.", icon: "üìâ" },
            { term: "Stop Loss", definition: "Ordem para vender um ativo quando atinge um pre√ßo m√≠nimo, limitando perdas.", icon: "üõ°Ô∏è" },
            { term: "Take Profit", definition: "Ordem para vender um ativo quando atinge um pre√ßo alvo, garantindo lucros.", icon: "‚úÖ" },
            { term: "Volatilidade Impl√≠cita", definition: "Medida de expectativa de varia√ß√£o futura de pre√ßos, usada em op√ß√µes.", icon: "‚ö°" },
            { term: "Beta", definition: "Medida de volatilidade de um ativo em rela√ß√£o ao mercado como um todo.", icon: "üìä" },
            { term: "ROE", definition: "Return on Equity: Retorno sobre o patrim√¥nio l√≠quido, medindo efici√™ncia.", icon: "‚ÜóÔ∏è" },
            { term: "ROA", definition: "Return on Assets: Retorno sobre os ativos, avaliando uso de recursos.", icon: "‚ÜñÔ∏è" },
            { term: "P/L", definition: "Pre√ßo/Lucro: Rela√ß√£o entre pre√ßo da a√ß√£o e lucro por a√ß√£o.", icon: "‚öñÔ∏è" },
            { term: "EBITDA", definition: "Lucro antes de juros, impostos, deprecia√ß√£o e amortiza√ß√£o.", icon: "üßÆ" },
            { term: "Margem Bruta", definition: "Porcentagem de receita restante ap√≥s custos de produ√ß√£o.", icon: "üìä" },
            { term: "Margem L√≠quida", definition: "Porcentagem de receita que se torna lucro ap√≥s todas as despesas.", icon: "üíµ" },
            { term: "Tesouro Direto", definition: "Programa do governo para compra de t√≠tulos p√∫blicos por pessoas f√≠sicas.", icon: "üèõÔ∏è" },
            { term: "CDB", definition: "Certificado de Dep√≥sito Banc√°rio: T√≠tulo emitido por bancos para capta√ß√£o.", icon: "üè¶" },
            { term: "LCI", definition: "Letra de Cr√©dito Imobili√°rio: T√≠tulo isento de IR para financiamento imobili√°rio.", icon: "üè†" },
            { term: "LCA", definition: "Letra de Cr√©dito do Agroneg√≥cio: Similar √† LCI, mas para agroneg√≥cio.", icon: "üåæ" },
            { term: "Deb√™ntures", definition: "T√≠tulos de d√≠vida emitidos por empresas para capta√ß√£o de recursos.", icon: "üìÑ" },
            { term: "FII", definition: "Fundo de Investimento Imobili√°rio: Investe em im√≥veis e distribui rendimentos.", icon: "üè¢" },
            { term: "ETF", definition: "Exchange Traded Fund: Fundo negociado em bolsa que replica um √≠ndice.", icon: "üß∫" },
            { term: "Op√ß√µes", definition: "Contratos que d√£o direito de comprar/vender um ativo a pre√ßo fixo.", icon: "üé≤" },
            { term: "Futuros", definition: "Contratos para compra/venda de ativo em data futura a pre√ßo predeterminado.", icon: "üìÖ" },
            { term: "Hedge", definition: "Estrat√©gia para proteger investimentos contra riscos adversos.", icon: "üõ°Ô∏è" },
            { term: "Arbitragem", definition: "Explora√ß√£o de diferen√ßas de pre√ßos em mercados diferentes para lucro sem risco.", icon: "‚ö°" },
            { term: "Short Selling", definition: "Venda a descoberto: Vender ativo emprestado esperando queda para recomprar mais barato.", icon: "‚¨áÔ∏è" },
            { term: "Day Trade", definition: "Compra e venda de ativos no mesmo dia, aproveitando varia√ß√µes curtas.", icon: "‚è∞" },
            { term: "Swing Trade", definition: "Opera√ß√µes que duram dias ou semanas, capturando tend√™ncias m√©dias.", icon: "üìà" },
            { term: "Position Trade", definition: "Manuten√ß√£o de posi√ß√µes por meses ou anos, focando em tend√™ncias longas.", icon: "üìä" },
            { term: "Selic", definition: "Taxa b√°sica de juros da economia brasileira, definida pelo Banco Central.", icon: "üíπ" },
            { term: "CDI", definition: "Certificado de Dep√≥sito Interbanc√°rio: Refer√™ncia para rentabilidade de investimentos.", icon: "üè¶" },
            { term: "IPCA", definition: "√çndice de Pre√ßos ao Consumidor Amplo: Medida oficial da infla√ß√£o no Brasil.", icon: "üìà" },
            { term: "PIB", definition: "Produto Interno Bruto: Soma de todos os bens e servi√ßos produzidos em um pa√≠s.", icon: "üåç" },
            { term: "Taxa de C√¢mbio", definition: "Pre√ßo de uma moeda em termos de outra, como d√≥lar em reais.", icon: "üí±" }
        ];

        const tipsData = [
            { title: "Como Usar o App", body: "Maximize o uso da ferramenta configurando alertas personalizados (tela de Alertas) e mantendo sua Watchlist atualizada (tela de Perfil). O Dashboard te d√° um resumo r√°pido, e o Hist√≥rico mostra a acur√°cia das nossas previs√µes.", icon: "üì±" },
            { title: "Diversifica√ß√£o", body: "Nunca coloque todos os ovos na mesma cesta. Distribua seus investimentos em diferentes classes de ativos (a√ß√µes, renda fixa, fundos) para reduzir o risco e aumentar o potencial de retorno.", icon: "üéØ" },
            { title: "Acompanhando o Mercado", body: "Foque em eventos macroecon√¥micos (infla√ß√£o, taxas de juros), relat√≥rios de grandes bancos e, claro, nas not√≠cias em tempo real que disparam nossos alertas. N√£o tente adivinhar, reaja √† informa√ß√£o.", icon: "üìà" },
            { title: "An√°lise de Empresas", body: "Estude os fundamentos (balan√ßos, receitas, d√≠vidas). Para setores, observe as tend√™ncias globais e regulamenta√ß√µes. Setores c√≠clicos (commodities) reagem diferente de setores perenes (energia, sa√∫de).", icon: "üè¢" },
            { title: "Gest√£o de Riscos", body: "Defina limites de perda com stop loss e diversifique para mitigar impactos negativos em sua carteira.", icon: "üõ°Ô∏è" },
            { title: "Investimento em A√ß√µes", body: "Escolha empresas com bom hist√≥rico de dividendos e crescimento sustent√°vel para investimentos de longo prazo.", icon: "üìä" },
            { title: "Renda Fixa para Iniciantes", body: "Comece com t√≠tulos p√∫blicos via Tesouro Direto, que oferecem seguran√ßa e rentabilidades previs√≠veis.", icon: "ü™ô" },
            { title: "Entendendo Volatilidade", body: "Use indicadores como o beta para medir o risco de um ativo em rela√ß√£o ao mercado geral.", icon: "üìà" },
            { title: "Planejamento Financeiro", body: "Estabele√ßa metas claras, como aposentadoria ou compra de casa, e ajuste investimentos conforme o prazo.", icon: "üìÖ" },
            { title: "Impacto da Infla√ß√£o", body: "Proteja seu patrim√¥nio investindo em ativos que superem a infla√ß√£o, como a√ß√µes ou im√≥veis.", icon: "üìâ" },
            { title: "Uso de ETFs", body: "Invista em fundos que replicam √≠ndices para diversifica√ß√£o instant√¢nea com baixos custos.", icon: "üß∫" },
            { title: "Estrat√©gias de Day Trade", body: "Foquem em padr√µes gr√°ficos e volume para entradas e sa√≠das r√°pidas no mesmo dia.", icon: "‚è∞" },
            { title: "An√°lise T√©cnica B√°sica", body: "Aprenda m√©dias m√≥veis e RSI para identificar tend√™ncias e pontos de revers√£o.", icon: "üìâ" },
            { title: "Fundos Imobili√°rios", body: "Receba rendimentos mensais de alugu√©is sem comprar im√≥veis diretamente.", icon: "üè†" },
            { title: "Investindo em Commodities", body: "Acompanhe pre√ßos de ouro, petr√≥leo e soja para hedge contra infla√ß√£o.", icon: "üåæ" },
            { title: "C√¢mbio e Moedas", body: "Proteja-se de varia√ß√µes cambiais com contratos futuros ou fundos cambiais.", icon: "üí±" },
            { title: "Op√ß√µes para Avan√ßados", body: "Use calls e puts para estrat√©gias de prote√ß√£o ou especula√ß√£o com alavancagem.", icon: "üé≤" },
            { title: "Controle Emocional", body: "Evite decis√µes impulsivas; siga um plano de investimento disciplinado.", icon: "üß†" },
            { title: "Taxas e Custos", body: "Minimize fees escolhendo corretoras com baixas comiss√µes e fundos eficientes.", icon: "üßÆ" },
            { title: "Rebalanceamento de Carteira", body: "Ajuste periodicamente a aloca√ß√£o de ativos para manter o risco desejado.", icon: "‚öñÔ∏è" },
            { title: "Investimento Sustent√°vel", body: "Escolha empresas ESG para alinhar lucros com valores √©ticos e ambientais.", icon: "üå±" },
            { title: "Criptomoedas", body: "Entenda blockchain e invista com cautela devido √† alta volatilidade.", icon: "‚Çø" },
            { title: "Previd√™ncia Privada", body: "Planeje a aposentadoria com PGBL ou VGBL para benef√≠cios fiscais.", icon: "üê∑" },
            { title: "An√°lise Macroecon√¥mica", body: "Acompanhe PIB, desemprego e juros para prever tend√™ncias de mercado.", icon: "üåç" },
            { title: "Value Investing", body: "Compre a√ß√µes subvalorizadas com base em an√°lise fundamentalista.", icon: "üîç" },
            { title: "Growth Investing", body: "Foquem em empresas com alto potencial de crescimento futuro.", icon: "üöÄ" },
            { title: "Momentum Trading", body: "Invista em ativos que mostram tend√™ncias fortes de alta recente.", icon: "üìà" },
            { title: "Contrarian Investing", body: "Compre quando o mercado est√° pessimista e venda no otimismo.", icon: "üîÑ" },
            { title: "Setor de Tecnologia", body: "Aposte em inova√ß√£o, mas diversifique para evitar bolhas.", icon: "üíª" },
            { title: "Setor de Energia", body: "Considere transi√ß√µes para renov√°veis em meio a mudan√ßas clim√°ticas.", icon: "‚ö°" },
            { title: "Setor Financeiro", body: "Avalie bancos pela solidez e exposi√ß√£o a riscos econ√¥micos.", icon: "üè¶" },
            { title: "Setor de Sa√∫de", body: "Invista em farmac√™uticas e biotech para crescimento demogr√°fico.", icon: "üè•" },
            { title: "Mercados Emergentes", body: "Oportunidades em pa√≠ses em desenvolvimento com maior risco.", icon: "üåç" },
            { title: "Ouro como Reserva", body: "Use como hedge contra instabilidades econ√¥micas globais.", icon: "ü•á" },
            { title: "Bonds Corporativos", body: "Avalie ratings de cr√©dito para t√≠tulos de d√≠vida empresariais.", icon: "üìÑ" },
            { title: "Crowdfunding Imobili√°rio", body: "Participe de projetos imobili√°rios com investimentos menores.", icon: "üèóÔ∏è" },
            { title: "Robo-Advisors", body: "Use IA para gerenciamento autom√°tico de carteiras.", icon: "ü§ñ" },
            { title: "Educa√ß√£o Financeira", body: "Leia livros como 'O Investidor Inteligente' para base s√≥lida.", icon: "üìö" },
            { title: "Simula√ß√µes de Investimento", body: "Pratique com contas demo antes de investir dinheiro real.", icon: "üéÆ" },
            { title: "Impostos em Investimentos", body: "Entenda IR sobre ganhos de capital e isen√ß√µes em certos t√≠tulos.", icon: "üìã" }
        ];

        const quizQuestions = [
            { question: "Qual o termo para a facilidade de vender um ativo rapidamente no mercado?", options: ["Volatilidade", "Rentabilidade", "Liquidez"], answer: "Liquidez" },
            { question: "O que √© considerado um investimento de Renda Vari√°vel?", options: ["CDB", "Tesouro Direto", "A√ß√µes da Petrobras"], answer: "A√ß√µes da Petrobras" },
            { question: "Qual a fun√ß√£o prim√°ria da Diversifica√ß√£o em uma carteira?", options: ["Maximizar o lucro em um √∫nico setor", "Reduzir o risco total", "Aumentar a liquidez imediatamente"], answer: "Reduzir o risco total" },
            { question: "Alta frequ√™ncia e intensidade de varia√ß√£o de pre√ßo define qual termo?", options: ["Alavancagem", "Volatilidade", "Gaps"], answer: "Volatilidade" },
            { question: "O que √© Infla√ß√£o?", options: ["Queda de pre√ßos", "Aumento geral de pre√ßos", "Estabilidade econ√¥mica"], answer: "Aumento geral de pre√ßos" },
            { question: "Qual o significado de IPO?", options: ["Initial Public Offering", "International Private Organization", "Investment Profit Opportunity"], answer: "Initial Public Offering" },
            { question: "Bear Market representa:", options: ["Mercado em alta", "Mercado em queda", "Mercado est√°vel"], answer: "Mercado em queda" },
            { question: "Bull Market representa:", options: ["Mercado em alta", "Mercado em queda", "Mercado est√°vel"], answer: "Mercado em alta" },
            { question: "An√°lise Fundamentalista foca em:", options: ["Gr√°ficos", "Balan√ßos e receitas", "Volume de trades"], answer: "Balan√ßos e receitas" },
            { question: "An√°lise T√©cnica usa:", options: ["Padr√µes gr√°ficos", "Relat√≥rios econ√¥micos", "Not√≠cias pol√≠ticas"], answer: "Padr√µes gr√°ficos" },
            { question: "Stop Loss serve para:", options: ["Limitar perdas", "Garantir lucros", "Aumentar alavancagem"], answer: "Limitar perdas" },
            { question: "Take Profit serve para:", options: ["Limitar perdas", "Garantir lucros", "Aumentar alavancagem"], answer: "Garantir lucros" },
            { question: "Beta mede:", options: ["Volatilidade relativa", "Lucro absoluto", "Liquidez"], answer: "Volatilidade relativa" },
            { question: "ROE √©:", options: ["Return on Equity", "Return on Expenses", "Risk of Equity"], answer: "Return on Equity" },
            { question: "P/L significa:", options: ["Pre√ßo/Lucro", "Percentual/Liquidez", "Profit/Loss"], answer: "Pre√ßo/Lucro" },
            { question: "EBITDA exclui:", options: ["Juros e impostos", "Receitas", "Despesas operacionais"], answer: "Juros e impostos" },
            { question: "Tesouro Direto √©:", options: ["T√≠tulo p√∫blico", "A√ß√£o privada", "Fundo m√∫tuo"], answer: "T√≠tulo p√∫blico" },
            { question: "CDB √© emitido por:", options: ["Bancos", "Governo", "Empresas"], answer: "Bancos" },
            { question: "LCI √© isenta de:", options: ["IR", "IOF", "CPMF"], answer: "IR" },
            { question: "Deb√™ntures s√£o:", options: ["T√≠tulos de d√≠vida empresarial", "A√ß√µes", "Fundos"], answer: "T√≠tulos de d√≠vida empresarial" },
            { question: "FII investe em:", options: ["Im√≥veis", "A√ß√µes", "Moedas"], answer: "Im√≥veis" },
            { question: "ETF replica:", options: ["√çndices", "Empresas individuais", "Commodities espec√≠ficas"], answer: "√çndices" },
            { question: "Op√ß√µes d√£o direito de:", options: ["Comprar/vender a pre√ßo fixo", "Dividir lucros", "Votar em assembleias"], answer: "Comprar/vender a pre√ßo fixo" },
            { question: "Hedge protege contra:", options: ["Riscos", "Lucros", "Infla√ß√£o"], answer: "Riscos" },
            { question: "Short Selling envolve:", options: ["Venda a descoberto", "Compra longa", "Hold infinito"], answer: "Venda a descoberto" },
            { question: "Day Trade dura:", options: ["O mesmo dia", "Semanas", "Anos"], answer: "O mesmo dia" },
            { question: "Selic √© a taxa:", options: ["B√°sica de juros", "De c√¢mbio", "De infla√ß√£o"], answer: "B√°sica de juros" },
            { question: "IPCA mede:", options: ["Infla√ß√£o", "PIB", "Desemprego"], answer: "Infla√ß√£o" },
            { question: "PIB √© a soma de:", options: ["Bens e servi√ßos produzidos", "Importa√ß√µes", "Exporta√ß√µes l√≠quidas"], answer: "Bens e servi√ßos produzidos" },
            { question: "Value Investing busca:", options: ["A√ß√µes subvalorizadas", "A√ß√µes em alta", "A√ß√µes vol√°teis"], answer: "A√ß√µes subvalorizadas" }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let quizState = [];

        function renderGlossary() {
            const list = document.getElementById('glossary-list');
            list.innerHTML = glossaryData.map(item => `
                <div class="accordion-item" onclick="toggleAccordion(this)">
                    <div class="accordion-header">
                        <span style="display: flex; align-items: center;">
                            <span class="accordion-icon">${item.icon}</span>
                            ${item.term}
                        </span>
                        <span class="accordion-arrow">‚ñº</span>
                    </div>
                    <div class="accordion-content">
                        <p>${item.definition}</p>
                    </div>
                </div>
            `).join('');
        }

        function toggleAccordion(item) {
            const content = item.querySelector('.accordion-content');
            const arrow = item.querySelector('.accordion-arrow');
            const isOpen = content.classList.contains('open');

            document.querySelectorAll('.accordion-content.open').forEach(c => {
                c.classList.remove('open');
                c.closest('.accordion-item').querySelector('.accordion-arrow').classList.remove('rotate');
            });
            
            if (!isOpen) {
                content.classList.add('open');
                arrow.classList.add('rotate');
            }
        }

        function renderTips() {
            const list = document.getElementById('tips-list');
            list.innerHTML = tipsData.map(item => `
                <div class="tip-card" onclick="showTipModal('${escapeHtml(item.title)}', '${escapeHtml(item.body)}', '${item.icon}')">
                    <div class="tip-icon">${item.icon}</div>
                    <div class="tip-title">${item.title}</div>
                    <div class="tip-subtitle">Toque para saber mais</div>
                </div>
            `).join('');
        }

        function escapeHtml(text) {
            return text.replace(/'/g, "\\'").replace(/"/g, '&quot;');
        }

        function showTipModal(title, body, icon) {
            const formattedBody = `<div style="text-align: center; font-size: 40px; margin-bottom: 16px;">${icon}</div><p style="line-height: 1.6;">${body}</p>`;
            showModal(title, formattedBody);
        }

        function initializeQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            const shuffled = [...quizQuestions].sort(() => 0.5 - Math.random());
            const selectedQuestions = shuffled.slice(0, 5);
            quizState = selectedQuestions.map(q => ({
                question: q.question,
                options: q.options,
                selected: null,
                correct: q.answer
            }));
            renderQuestion();
        }

        function renderQuestion() {
            const state = quizState[currentQuestionIndex];
            document.getElementById('quiz-status').textContent = `Pergunta ${currentQuestionIndex + 1} de ${quizState.length}`;
            document.getElementById('question-text').textContent = state.question;
            const optionsContainer = document.getElementById('answer-options');
            optionsContainer.innerHTML = '';
            
            const letters = ['A', 'B', 'C'];
            state.options.forEach((option, index) => {
                const isSelected = state.selected === option;
                const optionElement = document.createElement('div');
                optionElement.className = `quiz-option ${isSelected ? 'selected' : ''}`;
                optionElement.innerHTML = `<span class="option-letter">${letters[index]}</span><span>${option}</span>`;
                optionElement.onclick = () => selectAnswer(option);
                optionsContainer.appendChild(optionElement);
            });
            
            const button = document.getElementById('next-button');
            button.disabled = !state.selected;
            button.textContent = (currentQuestionIndex === quizState.length - 1) ? 'Ver Resultado' : 'Pr√≥xima Pergunta';
        }

        function selectAnswer(selectedOption) {
            quizState[currentQuestionIndex].selected = selectedOption;
            renderQuestion();
        }

        function nextQuestion() {
            if (!quizState[currentQuestionIndex].selected) return;

            if (quizState[currentQuestionIndex].selected === quizState[currentQuestionIndex].correct) {
                score++;
            }
            
            if (currentQuestionIndex < quizState.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            } else {
                showQuizResult();
            }
        }

        function showQuizResult() {
            const total = quizState.length;
            const percentage = (score / total) * 100;
            let title = '';
            let message = '';
            let icon = '';

            if (percentage === 100) {
                title = 'Parab√©ns, Expert! üöÄ';
                message = `Voc√™ acertou todas as ${total} perguntas. Seu conhecimento em finan√ßas √© excelente! Continue assim para dominar o mercado.`;
                icon = 'üèÜ';
            } else if (percentage >= 75) {
                title = '√ìtimo Desempenho! üí°';
                message = `Voc√™ acertou ${score} de ${total} perguntas. Seus fundamentos s√£o s√≥lidos. Revise os termos errados para se tornar um profissional.`;
                icon = '‚ú®';
            } else if (percentage >= 50) {
                title = 'Bom Come√ßo! üìö';
                message = `Voc√™ acertou ${score} de ${total} perguntas. Voc√™ est√° no caminho certo! Explore mais o gloss√°rio e as dicas para melhorar.`;
                icon = 'üìñ';
            } else {
                title = 'Hora de Estudar! üß†';
                message = `Voc√™ acertou apenas ${score} de ${total} perguntas. Sem problemas! A Academy est√° aqui para isso. Comece pelo Gloss√°rio e tente o Quiz novamente.`;
                icon = 'üìù';
            }
            
            const resultBody = `
                <div style="text-center margin-bottom: 20px;">
                    <div style="font-size: 60px; margin-bottom: 12px;">${icon}</div>
                    <p style="font-size: 36px; font-weight: bold; color: #2c3e50; margin-bottom: 8px;">${score}/${total}</p>
                    <p style="font-size: 16px; color: #666;">Pontua√ß√£o Final</p>
                </div>
                <p style="line-height: 1.6; color: #666;">${message}</p>
            `;

            showModal(title, resultBody);
            initializeQuiz();
        }

        function showModal(title, body) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-body').innerHTML = body;
            document.getElementById('reusableModal').classList.add('show');
        }

        function closeModal(event) {
            if (!event || event.target.id === 'reusableModal') {
                document.getElementById('reusableModal').classList.remove('show');
            }
        }

        function switchTab(tabId) {
            document.querySelectorAll('.tab-item').forEach(tab => tab.classList.remove('active'));
            document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            if (tabId === 'quiz') {
                initializeQuiz();
            }
        }

        function updateTime() {
            const now = new Date();
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('currentTime').textContent = `${h}:${m}`;
        }
        setInterval(updateTime, 60000);
        updateTime();

        const DB = {
            getCurrentUser() {
                const data = localStorage.getItem('marketPulse_currentUser');
                return data ? JSON.parse(data) : null;
            },
            getUserById(userId) {
                const users = JSON.parse(localStorage.getItem('marketPulse_users') || '[]');
                return users.find(u => u.id === userId);
            }
        };

        function loadUserData() {
            const currentUser = DB.getCurrentUser();
            if (!currentUser) {
                window.location.href = 'tela6-login.html';
                return;
            }
            const user = DB.getUserById(currentUser.id);
            document.getElementById('userName').textContent = user.name.split(' ')[0];
            document.getElementById('userBadge').textContent = `${user.avatar} ${user.userType}`;
            document.getElementById('profileAvatar').textContent = user.avatar;
            document.getElementById('menuAvatar').textContent = user.avatar;
            document.getElementById('menuName').textContent = user.name;
            document.getElementById('menuEmail').textContent = user.email;
        }

        function toggleMenu() {
            document.getElementById('sideMenu').classList.toggle('open');
            document.getElementById('menuOverlay').classList.toggle('show');
        }

        function goToHome() { window.location.href = 'tela1-dashboard.html'; }
        function goToAlerts() { window.location.href = 'tela2-notificacoes.html'; }
        function goToNews() { window.location.href = 'tela3-noticias.html'; }
        function goToReport() { window.location.href = 'tela5-historico.html'; }
        function goToProfile() { window.location.href = 'tela7-perfil.html'; }
        function goToAcademy() { window.location.href = 'tela8-academy.html'; }

        function logout() {
            if (confirm('Deseja realmente sair?')) {
                localStorage.removeItem('marketPulse_currentUser');
                window.location.href = 'tela6-login.html';
            }
        }

        window.addEventListener('load', function() {
            console.log('üéì Market Pulse - Academy REFATORADA COMPLETA');
            loadUserData();
            renderGlossary();
            renderTips();
            switchTab('glossary');
        });
    </script>
</body>
</html>
